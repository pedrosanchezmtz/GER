  CREATE TABLE "XERINTUSER"."XXER_INVOICES_AP_CONF_TBL" 
   ("ID" NUMBER GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 NOCACHE ORDER ) NOT NULL ENABLE, 
	  "CODE"                  VARCHAR2(50 BYTE)        NOT NULL ENABLE,
    "PROCCESS"              VARCHAR2(50 BYTE),
    "ACTION"                VARCHAR2(50 BYTE),
    "ORDER_PROCCESS"        NUMBER,
    "VALIDATION_NAME"       VARCHAR2(2000 BYTE),
    "DOCUMENT_TYPE"         VARCHAR2(150 BYTE),
    "CFDI_VERSION"          VARCHAR2(50 BYTE),
    "NOTIFICATION_MESSAGE"  VARCHAR2(3000 BYTE),
    "PROCCESS_DESC"         VARCHAR2(3000 BYTE),
    "PARAMETER1"            VARCHAR2(3000 BYTE),
    "PARAMETER2"            VARCHAR2(3000 BYTE),
    "PARAMETER3"            VARCHAR2(3000 BYTE),
    "PARAMETER4"            VARCHAR2(3000 BYTE),
    "PARAMETER5"            VARCHAR2(3000 BYTE),
    "CREATION_DATE"         DATE,
    "CREATED_BY"            VARCHAR2(150 BYTE),
    "LAST_UPDATE_DATE"      DATE,
    "LAST_UPDATED_BY"       VARCHAR2(150 BYTE), 
	 CONSTRAINT "XXER_INVOICES_AP_CONF_TBL_PK" PRIMARY KEY ("ID")
   ) ;
   

  CREATE OR REPLACE EDITIONABLE TRIGGER "XERINTUSER"."AUDIT_TRIGGER_CONF_INVOICES_AP" BEFORE INSERT OR UPDATE
  ON XXER_INVOICES_AP_CONF_TBL FOR EACH ROW
  DECLARE
  v_user varchar(50):=null;
BEGIN
if (NVL(APEX_UTIL.GET_CURRENT_USER_ID,0)=0)
  then
     v_user:=SYS_CONTEXT('USERENV', 'HOST', 30);
  else
    v_user:=APEX_UTIL.GET_USERNAME(APEX_UTIL.GET_CURRENT_USER_ID);
  end if; 
  IF INSERTING THEN
  :new.CREATION_DATE:=sysdate;
   :new.CREATED_BY:=v_user;
  ELSIF UPDATING THEN
  :new.LAST_UPDATE_DATE:=sysdate;
   :new.LAST_UPDATED_BY:=v_user; 
  END IF;
END;

DROP TABLE  "XERINTUSER"."XXER_INVOICES_AP_CONF_TBL"  CASCADE CONSTRAINTS;   


SELECT * FROM wwv_flow_group_users wf
 where USER_ID =APEX_UTIL.GET_CURRENT_USER_ID 
and GROUP_NAME in ('CNF_INTEGRACIONES','ADMIN')